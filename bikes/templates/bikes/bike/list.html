{% extends "bikes/base.html" %}
{% load static %}

{% block title %}
    {% if brand %}{{ brand.name }}{% else %}Bikes{% endif %}
{% endblock %}

{% block content %}
    <div id="sidebar">
        <h3>Brands</h3>
        <ul>
            <li {% if not brand %}class="selected"{% endif %}>
                <a href="{% url "bikes:bike_list" %}">All</a>
            </li>
        {% for c in brands %}
            <a href="{{ c.name }}">{{ c.name }}</a>
            <li {% if brand.slug == c.slug %}class="selected"{% endif %}>
                <a href="{{ c.get_absolute_url }}">{{ c }}</a>
               
            </li>
        {% endfor %}
        </ul>
        <form id="filter" action="{%url 'bikes:sort' %}" method="post">
        <select name="select_type">
            <option value="all">All</option>
            <option value="alphabetically">Alphabetically</option>
            <option value="price">Price</option>
            <option value="brand">Brand</option>

        </select>
        <select name="select_criteria">
            <option value="Descending">High to Low</option>
            <option value="Ascending">Low to high</option>
        </select>
        {% csrf_token %}
        <input type="submit" value="Sort">
    </form>
    
    </div>
    <div id="main" class="bike-list">

        <h1>{% if brand %}{{ brand }}{% else %}Bikes{% endif %}</h1>
        {% for bike in bikes %}
            <div class="item">
            <a href="{{ bike.get_absolute_url }}">
                    <img src="{% if bike.image %}{{ bike.image.url }}{% else %}{% static "bikes/img/no_image.png" %}{% endif %}">
                </a><br>
                <a href="{{ bike.get_absolute_url }}">{{ bike }}</a><br>
                ${{ bike.price }}
                <!--{% if forloop.counter|divisibleby:3 %}
                <br>
                
                {% endif %}-->
            </div>
        {% endfor %}
    </div>
    
{% endblock %}